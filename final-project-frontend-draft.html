<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MoodTrack </title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Castoro:ital@0;1&family=DM+Serif+Display:ital@0;1&family=Varela+Round&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="final-logo.png">
  <link rel="stylesheet" href="final-styles.css">
</head>

<body>
  <nav class="navbar">
    <h1>MoodTrack</h1>
    
    <nav class="navbar">
      <div style="display: flex; gap: 15px; margin-left: auto;">
        <button id="theme-toggle" class="toggle-btn" onclick="toggleDarkMode()" title="Toggle Theme">🌙</button>
        <button type="button" id="logout-btn" class="btn green" onclick="signout()">Sign Out</button>
      </div>
    </nav>
    
    
    
      
  </nav>

  <main class="container">
    <section class="card">
      <h2>Today's Mood</h2>
      <div class="emoji-row">
        <button onclick="setmood(this, 'happy')">😄</button>
        <button onclick="setmood(this, 'content')">🙂</button>
        <button onclick="setmood(this, 'neutral')">😐</button>
        <button onclick="setmood(this, 'sad')">😔</button>
        <button onclick="setmood(this, 'depressed')">😢</button>

        <!-- <button onclick="setmood('happy')">😄</button>
        <button onclick="setmood('content')">🙂</button>
        <button onclick="setmood('neutral')">😐</button>
        <button onclick="setmood('sad')">😔</button>
        <button onclick="setmood('depressed')">😢</button> -->
      </div>
      <!-- <input type="text" id="moodtags" placeholder="to be added" /> -->
    </section>

    <section class="card">
      <h2>Journal Entry</h2>
      <textarea id="JournalEntry" rows="5" placeholder="Would you like to share what’s been going on today?"></textarea>
    </section>

    <section class="card">
      <h2>Music For Your Mood</h2>
      <div class="btn-row">
        <button class="btn blue" onclick="recommendMusic('match')">Match Mood</button>
        <button class="btn green" onclick="recommendMusic('cheer')">Cheer Me Up</button>
      </div>
      <p id="suggestedText">Suggested Playlist: <em>None yet</em></p>
    </section>

    <section class="card">
      <h2>Mood Trends</h2>
      <div class="chart-placeholder">[Mood Chart Placeholder]</div>
    </section>
  </main>

    <script>
  let isDark = false;
  let isLoggedIn = true;

  function updateAuthUI() {
    document.getElementById("login-btn").style.display = isLoggedIn ? "none" : "inline-block";
    document.getElementById("signup-btn").style.display = isLoggedIn ? "none" : "inline-block";
    document.getElementById("logout-btn").style.display = isLoggedIn ? "inline-block" : "none";
  }

  function login() {
    isLoggedIn = true;
    alert("Logged in!");
    updateAuthUI();
  }

  function signup() {
    isLoggedIn = true;
    alert("Signed up and logged in!");
    updateAuthUI();
  }

  function toggleDarkMode() {
    document.body.classList.toggle('dark-mode');
    const btn = document.getElementById("theme-toggle");
    btn.innerHTML = document.body.classList.contains('dark-mode') ? "☀️" : "🌙";
  }

  function signout() {
    alert("Signed out!");
    window.location.href = "index.html";
  };


  function setmood(button, mood) {
  console.log("Mood set to:", mood);

  document.querySelectorAll(".emoji-row button").forEach(btn => 
    btn.classList.remove("selected")
  );

  button.classList.add("selected");

  if (!document.getElementById("mood-note")) {
    const input = document.createElement("input");
    input.type = "text";
    input.id = "mood-note";
    input.placeholder = "Why do you feel this way?";
    input.classList.add("mood-note-input");
    document.querySelector(".emoji-row").insertAdjacentElement("afterend", input);
  }
}



  function recommendMusic(type) {
    const text = type === 'match' ? "Matching your current mood!" : "Cheering you up!";
    document.getElementById("suggestedText").innerHTML =
      "Suggested Playlist: <em>" + text + "</em>";
  }

  updateAuthUI();
</script>

    </body>
</html>